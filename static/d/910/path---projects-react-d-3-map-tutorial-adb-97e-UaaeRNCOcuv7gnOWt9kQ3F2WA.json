{"data":{"markdownRemark":{"html":"<h1 id=\"live-demo\"><a href=\"#live-demo\" aria-label=\"live demo permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Live Demo</h1>\n<p>Check out with a live version of the application [here][1].</p>\n<h1 id=\"overview\"><a href=\"#overview\" aria-label=\"overview permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview</h1>\n<p>In this tutorial, we'll build an interactive map of Manhattan's neighborhoods, using a React and d3. We leverage React for creating and composing components and application state management, and let d3 handle the direction DOM manipulation and user interaction. The map itself is an interactive SVG created using Adobe Illustrator, which we \"mark up\" using a Python script. Finally, we'll build the application and deploy it using Surge, a static site hosting service.</p>\n<p>More generally, this is a tutorial that introduces an approach for combining React and d3 in a semi-sane way. It's weird, because React kind of teaches you to avoid direct DOM manipulation, while d3 is arguably on the other side of the spectrum, relying on direct DOM manipulation to create and animate data drive graphics.</p>\n<h1 id=\"the-basic-workflow\"><a href=\"#the-basic-workflow\" aria-label=\"the basic workflow permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Basic Workflow</h1>\n<p>In this tutorial I've chosen to use the neighborhoods of Manhattan as my choice for map. But these concepts and general workflow can be applied to producing any type of interactive asset using Adobe Illustrator, React and d3. The basic steps:</p>\n<ol>\n<li>Create the asset using Adobe Illustrator, labelling individual SVG components appropriately.</li>\n<li>Export the asset as an SVG.</li>\n<li>Using a Python script to modify the raw SVG and make it interactive -- we attach onClick events and set up dynamically styling based on a \"selection\" state value.</li>\n<li>Make a MapComponent using the marked up SVG.</li>\n<li>Use d3 to handle animations triggered by user interaction.</li>\n<li>Interact with your map!</li>\n</ol>\n<h1 id=\"lets-build\"><a href=\"#lets-build\" aria-label=\"lets build permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Let's Build</h1>\n<h3 id=\"bootstrap-project-with-create-react-app\"><a href=\"#bootstrap-project-with-create-react-app\" aria-label=\"bootstrap project with create react app permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bootstrap project with create-react-app</h3>\n<p>Make sure you have [create-react-app][2] installed on your system. Use <code class=\"language-text\">npm install -g create-react-app</code> from the command line if it's not installed. Once installed, run the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ npx create-react-app nyc-maps-tutorial</code></pre></div>\n<p>Once the script finishes, run:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cd</span> nyc-map-tutorial\n<span class=\"token function\">npm</span> start</code></pre></div>\n<p>Boom, you're app should be running at localhost:3000.</p>\n<p><em>(You can use yarn here if that's how you roll. Just substitute in the appropriate commands.)</em></p>\n<h3 id=\"make-the-map-component\"><a href=\"#make-the-map-component\" aria-label=\"make the map component permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Make the Map component</h3>\n<p>Within the <code class=\"language-text\">src</code> folder create a new directory called <code class=\"language-text\">components</code> and within it, create a new file called <code class=\"language-text\">Map.js</code> and include the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Manhattan</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>Map placeholder<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Map</code></pre></div>\n<p>And now, go to <code class=\"language-text\">App.js</code> and include the <code class=\"language-text\">Map</code> component within it:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Map <span class=\"token keyword\">from</span> <span class=\"token string\">'./components/Map'</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Map <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Cool. Now it would be useful to have an actual map graphic to work with. Let' make that now.</p>\n<h3 id=\"create-and-export-the-map-using-illustrator\"><a href=\"#create-and-export-the-map-using-illustrator\" aria-label=\"create and export the map using illustrator permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create and export the map using Illustrator</h3>\n<p>I used Adobe Illustrator CC 2018 to create [this SVG][3] of the neighborhoods of Manhattan. I based it off [this map][4] from Wikipedia.</p>\n<h3 id=\"add-the-svg-to-the-map-component\"><a href=\"#add-the-svg-to-the-map-component\" aria-label=\"add the svg to the map component permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Add the SVG to the Map Component</h3>\n<h3 id=\"bring-the-map-to-life-with-d3\"><a href=\"#bring-the-map-to-life-with-d3\" aria-label=\"bring the map to life with d3 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bring the map to life with d3</h3>\n<h3 id=\"working-smarter-not-harder\"><a href=\"#working-smarter-not-harder\" aria-label=\"working smarter not harder permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Working smarter, not harder</h3>\n<h3 id=\"componentize-the-svg-with-python\"><a href=\"#componentize-the-svg-with-python\" aria-label=\"componentize the svg with python permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Componentize the SVG with Python</h3>\n<p>A note on this script: it's meant for SVGs exported from Adobe Illustrator CC 2018. YMMV depending on version used -- Adobe Illustrator CS5 exports SVGs that look like <MAKE EXAMPLE SVG HERE>. You might have to make minor adjustments to adjust for up beginning markup of your SVG file.</p>\n<h3 id=\"\"><a href=\"#\" aria-label=\" permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<h1 id=\"wrap-up\"><a href=\"#wrap-up\" aria-label=\"wrap up permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Wrap Up</h1>\n<p>A discussion of limitations and a simpler way. The simplest way, how do we reconcile \"this\" between React functions and d3 functions! I.e. I want to use d3 to attach an event listener to an object which sets the application state, how do I do that? There must be a simpler way... perhaps that follows the pattern laid out in this example I found while creating the project. But for now, we stick with a working but perhaps the not most efficient implementation.</p>\n<p>The reality: this isn't a perfect system. You make compromises when you choose librarie that have drastically seemingly incompatiable different approaches to DOM manipulation. But if we use them carefully and utilize each tool where it excels, we end up with a nice application.</p>","timeToRead":3,"tableOfContents":"<ul>\n<li><a href=\"/projects/react-d3-map-tutorial/#live-demo\">Live Demo</a></li>\n<li><a href=\"/projects/react-d3-map-tutorial/#overview\">Overview</a></li>\n<li><a href=\"/projects/react-d3-map-tutorial/#the-basic-workflow\">The Basic Workflow</a></li>\n<li>\n<p><a href=\"/projects/react-d3-map-tutorial/#lets-build\">Let's Build</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/projects/react-d3-map-tutorial/#bootstrap-project-with-create-react-app\">Bootstrap project with create-react-app</a></li>\n<li><a href=\"/projects/react-d3-map-tutorial/#make-the-map-component\">Make the Map component</a></li>\n<li><a href=\"/projects/react-d3-map-tutorial/#create-and-export-the-map-using-illustrator\">Create and export the map using Illustrator</a></li>\n<li><a href=\"/projects/react-d3-map-tutorial/#add-the-svg-to-the-map-component\">Add the SVG to the Map Component</a></li>\n<li><a href=\"/projects/react-d3-map-tutorial/#bring-the-map-to-life-with-d3\">Bring the map to life with d3</a></li>\n<li><a href=\"/projects/react-d3-map-tutorial/#working-smarter-not-harder\">Working smarter, not harder</a></li>\n<li><a href=\"/projects/react-d3-map-tutorial/#componentize-the-svg-with-python\">Componentize the SVG with Python</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/projects/react-d3-map-tutorial/#wrap-up\">Wrap Up</a></li>\n</ul>","fields":{"tagSlugs":["/tags/tutorial/","/tags/react/","/tags/d-3/","/tags/python/"]},"frontmatter":{"title":"Create an interactive map using React, d3 and Python","tags":["tutorial","React","d3","Python"],"date":"2018-01-15T00:12:03.000Z","author":{"id":"Evan Nichols","bio":"I'm a software engineer in NYC who likes React, Node, GraphQL and other cool web technologies. I also like running and dogs."}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/projects/react-d3-map-tutorial/"}}